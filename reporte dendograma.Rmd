---
title: "Dendrograma"
author: "Lino Oswaldo Sanchez"
date: "12/5/2022"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Paqueterías nesesarías 
```{r,warning=FALSE,message=FALSE}
library(cluster.datasets)
```

# Base de datos 
```{r}
data("all.mammals.milk.1956")
AMM=all.mammals.milk.1956
```
Usaremos el data set de **"all.mammals.milk.1956"**, el cual contiene datos sobre la leche de diferentes especies de animales.


## Revisión de la base de datos  
Dimensión
```{r}
dim(AMM)
```
Esta base cuenta con 25 observaciones y 6 variables 

Datos faltantes 
```{r}
anyNA(AMM)
```
La búsqueda sale negativa así que proseguimos con el Dendograma 

Tipo de variables 
```{r}
str(AMM)
```
Encontramos que la base esta conformada por 5 variables numéricas y una carácter donde se encuentra registrado el nombre de los animales, en las numéricas teneos la cantidad de proteína, nivel de agua, grasa, lactosa, los minerales de la leche.

# Cálculo de la matriz de distancias de Mahalonobis

```{r}
dist.AMM<-dist(AMM[,2:6])
```
Calculamos la distancia de Mahalanobis para las variables que comprende de  la dos a la seis, variables numéricas. 

Con la distancia de Mahalanobis podemos calcular la similitud que existe entre las variables teniendo en cuenta la correlación que hay entre ellas. 

## Redondeo   

```{r}
round(as.matrix(dist.AMM)[1:6, 1:6],3)
```
Realizamos un redondeo de los cálculos de la distancia de Mahalanobis y los convertimos a una matriz, proyectamos e indicamos que solo usaremos a los primeros 6 individuos así que especificamos la selección de las 6 filas y 6 columnas pertenecientes a dichos individuos.  


# Calculo del dendrograma
```{r}
dend.AMM<-as.dendrogram(hclust(dist.AMM))
```
Se calcula el Dendograma para nuestras observaciones elegidas donde  usaremos el método de agrupación por Clústers **"hclust"**, el cual nos ofrece una agrupación jerárquica.

# Graficación  del dendrograma

Creamos un vector para las etiquetas que le asignaremos al Dendograma para el cual necesitaremos la librería "dendextend"

```{r,message=FALSE,warning=FALSE}
library(dendextend)
```


```{r}
L=labels(dend.AMM)

labels(dend.AMM)=AMM$name[L]

```

Graficamos el Dendograma cambiamos el tamaño de las etiquetas y aplicamos color a las etiquetas para que resalten.
```{r}
dend.AMM %>%
  set(what="labels_col", "blue") %>% #Colores etiqueta
  set(what="labels_cex", 0.8) %>%
  plot(main="Dendrograma de mamíferos")

```

Obtenemos el Dendograma agrupado y podemos ver que esta dividido en dos grupos en el primer grupo se encuentran la leche de las especies de foca y delfín son deferentes de el segundo grupo el cual esta sub-dividido  en dos grupos más y dos mas para estos grupos que a su vez contienen más.

Pero lo interesante es ver que el gráfico nos muestra dos grupos en los que se pueden separara la leche de estos animales.




